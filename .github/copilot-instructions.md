# Глобальные инструкции для GitHub Copilot

## О нашем бренде

**ХД² (ХД в квадрате)** — премиальный бренд дизайнерской одежды из России.

**Философия**: Хочешь - Думай - Делай = ХДД = ХД²

Весь текст и все документы пишутся на русском языке.

### Модель работы

Мы — **fashion бренд**, работающий с несколькими коллекциями одежды одновременно. Каждая коллекция имеет свою базу знаний и требует отдельного контекста.

### Структура workspace

```
Workspace Root/
├── .github/
│   ├── knowledge-base/        # ШАБЛОНЫ для новых коллекций
│   ├── agents/                # AI C-level команда (общая)
│   └── skills/                # Навыки агентов (общие)
├── Футболки/                  # Категория продукции
│   └── Язык и рогатка/        # Коллекция #1
│       ├── Бизнес часть/      # Бизнес-документация
│       │   ├── 01_Strategy/   # Стратегия коллекции
│       │   ├── 02_Finance/    # Финансовые модели
│       │   ├── 03_Tech/       # E-commerce, автоматизация
│       │   ├── 04_Marketing/  # Маркетинг и бренд
│       │   └── 05_Legal/      # Юридические документы
│       ├── 16 9/              # Визуальный контент (горизонтальный)
│       ├── 9 16/              # Визуальный контент (вертикальный)
│       ├── Видео/             # Видеоконтент
│       └── Модели/            # Фотосессия коллекции
└── README.md
```

### ПРАВИЛО #1: Идентификация коллекции

**ПЕРЕД любым действием** определите, о какой коллекции идет речь:

1. **Явное упоминание**: Пользователь называет коллекцию ("Язык и рогатка", "ХД²")
2. **Контекст файла**: Если в запросе упомянут файл, определите коллекцию по пути (`Футболки/Язык и рогатка/...`)
3. **Текущая директория**: Если пользователь работает в папке коллекции, используйте её контекст
4. **Запрос уточнения**: Если неясно — **ОБЯЗАТЕЛЬНО** спросите пользователя: "О какой коллекции идет речь?"

### ПРАВИЛО #2: Шаблоны vs Реальные данные

| Локация                                              | Тип данных      | Когда использовать                                    |
| ---------------------------------------------------- | --------------- | ----------------------------------------------------- |
| `.github/knowledge-base/`                            | **ШАБЛОНЫ**     | При создании новой коллекции, как reference          |
| `Футболки/<Коллекция>/Бизнес часть/`                | **РЕАЛЬНЫЕ**    | Для анализа, принятия решений, расчетов              |

**КРИТИЧНО**:

- ❌ НЕ анализируйте `.github/knowledge-base/` как реальные данные коллекции
- ❌ НЕ копируйте данные одной коллекции в базу знаний другой без адаптации
- ✅ Всегда проверяйте путь файла перед использованием данных

### Текущие коллекции в портфеле

1. **"Язык и рогатка"**
   - Локация: `Футболки/Язык и рогатка/Бизнес часть/`
   - Категория: Футболки с премиум вышивкой
   - Стадия: Запуск
   - Целевая аудитория: Digital-Гедонисты 24-35 лет
   - Unit-экономика: LTV/CAC = 3.76x, COGS = 1,700₽
   - Цена: 6,900₽ (Premium tier)

---

## Принципы работы с AI-агентами

### Общие правила коммуникации

1. **Говорите на языке бизнес-целей**: Все решения должны быть обоснованы через влияние на ключевые метрики (Revenue, Conversion, CAC, Brand Awareness).
2. **Запрашивайте данные, а не мнения**: AI-агенты должны основывать рекомендации на фактах из базы знаний, аналитики маркетплейсов или внешних источниках.
3. **Перекрестная проверка**: Важные решения требуют валидации от нескольких агентов (например: CEO синтезирует данные от CTO, CFO и CMO).

### Безопасность и контроль

#### Human-in-the-Loop

- **Критические операции** (коммиты в main, изменение e-commerce платформы, расходы >50,000₽, публикация контента от имени бренда) требуют явного подтверждения человека.
- Агенты могут **предлагать**, но не **выполнять** необратимые действия без согласия.

#### Разделение полномочий

- **CEO/Board/CFO/CMO**: Read-only доступ к коду (могут читать через `fetch`).
- **CTO**: Полный доступ к кодовой базе e-commerce платформы (`codebase`, `edit`, `terminal`).
- **CFO**: Эксклюзивный доступ к финансовым расчетам через `repl` (Python).

#### Защита конфиденциальных данных

- **ЗАПРЕЩЕНО** хардкодить API ключи маркетплейсов, пароли, токены в код.
- **ЗАПРЕЩЕНО** отправлять финансовые данные во внешние API без явного разрешения.
- Используйте переменные окружения (`${env:VAR_NAME}`) для секретов.

### Операционные стандарты

#### Формат ответов

- **Структурированность**: Используйте заголовки, списки и таблицы.
- **Доказательность**: Цитируйте источники (файлы из базы знаний, аналитика маркетплейсов).
- **Actionability**: Каждый ответ должен содержать следующие шаги или рекомендации.

#### Референсы к базе знаний

**⚠️ КРИТИЧНО**: Всегда используйте базу знаний КОНКРЕТНОЙ коллекции, не шаблоны!

**Для реального анализа** (после идентификации коллекции):

- `Футболки/<Коллекция>/Бизнес часть/01_Strategy/` — позиционирование и стратегия
- `Футболки/<Коллекция>/Бизнес часть/02_Finance/` — финансовые модели и unit-экономика
- `Футболки/<Коллекция>/Бизнес часть/03_Tech/` — e-commerce и автоматизация
- `Футболки/<Коллекция>/Бизнес часть/04_Marketing/` — целевая аудитория и конкуренты
- `Футболки/<Коллекция>/Бизнес часть/05_Legal/` — юридические документы

**Для создания новой коллекции** (reference структуры):

- `.github/knowledge-base/` — шаблоны документов (не реальные данные!)
- `.github/knowledge-base/knowledge_base_maintenance_schedule.md` — расписание обслуживания документов

**Алгоритм использования**:

1. Идентифицировать коллекцию (ПРАВИЛО #1)
2. Проверить существование `Футболки/<Коллекция>/Бизнес часть/`
3. Если не существует → предложить создать из шаблонов `.github/knowledge-base/`
4. Если существует → использовать только данные из `Футболки/<Коллекция>/Бизнес часть/`

#### Управление неопределенностью

Когда данных недостаточно:

1. **Явно укажите** какая информация отсутствует.
2. **Запросите** у пользователя или делегируйте другому агенту.
3. **Не придумывайте** цифры и факты — используйте диапазоны или вероятности.

### Tone of Voice

- **Деловой, но человечный**: Избегайте бюрократизма, будьте конкретны.
- **Прямолинейный**: Плохие новости сообщайте сразу, а не "закапывайте".
- **Ориентированный на действие**: Меньше анализа паралича, больше экспериментов.

---

## Workflow правила

### Запуск новой коллекции

1. @CMO определяет целевую аудиторию и позиционирование.
2. @CFO рассчитывает unit-экономику и точку безубыточности.
3. @CTO оценивает технические требования (e-commerce, интеграции с маркетплейсами).
4. @CEO синтезирует и утверждает стратегию запуска.

### Финансовый анализ

1. @CFO **ОБЯЗАН** использовать Python для всех расчетов (через навык `finance-forecasting`).
2. Результаты оформляются в виде таблиц Markdown.
3. **WARNING** добавляется, если Runway < 6 месяцев.

### Анализ конкурентов (Wildberries, Ozon, Яндекс.Маркет)

1. @CMO отслеживает цены, позиционирование, отзывы конкурентов.
2. Использует навык `market-analysis` для систематического анализа.
3. Предоставляет рекомендации по корректировке ценовой политики и позиционирования.

### Стратегические решения (Новая коллекция, изменение цен, масштабирование)

1. @CEO инициирует обсуждение.
2. Каждый C-level агент предоставляет отчет из своей области.
3. @Board выносит вердикт: "Одобрено" / "Требует доработки" / "Отклонено".

---

## Технические ограничения

### Контекст и индексация

- Проект индексируется автоматически (до 2500 файлов).
- Визуальный контент (16 9/, 9 16/, Видео/, Модели/) индексируется по именам файлов.

### MCP интеграции

- `brave-search`: Веб-поиск для @CMO (конкуренты) и @CEO (тренды моды). Требует `BRAVE_API_KEY`.
- `local-kb-rag`: Локальный RAG для семантического поиска по архиву (опционально).

### Python выполнение

- @CFO использует изолированное окружение (рекомендуется Pyodide/Docker).
- Доступ к файловой системе:
  - **READ**: `Футболки/<Коллекция>/Бизнес часть/02_Finance/` (текущая коллекция)
  - **WRITE**: Результаты расчетов сохранять в markdown в `02_Finance/`
  - **ЗАПРЕЩЕНО**: Читать финансы других коллекций без явного разрешения

---

## Быстрая справка: Когда использовать каких агентов

| Задача                                     | Агент  | Инструменты                         | Примечание                                          |
| ------------------------------------------ | ------ | ----------------------------------- | --------------------------------------------------- |
| Разработка e-commerce                      | @CTO   | `codebase`, `edit`, `terminal`      | Уточнить коллекцию перед изменениями                |
| Расчет unit-экономики                      | @CFO   | `repl`, `finance-forecasting`       | Только данные текущей коллекции                     |
| Анализ конкурентов на маркетплейсах        | @CMO   | `web-search`, `market-analysis`     | Указать категорию (футболки, худи, etc.)           |
| Стратегия запуска коллекции                | @CEO   | `fetch`, синтез данных от других    | Идентифицировать коллекцию в начале                 |
| Утверждение бюджета маркетинга             | @Board | `fetch`, критический анализ         | Cross-collection analysis разрешен                  |
| Создание новой коллекции                   | @CEO   | `fetch`, copy templates             | Использовать `.github/knowledge-base/` как source   |

---

**Бренд**: ХД² (ХД в квадрате)
**Версия**: 1.0
**Последнее обновление**: 2026-02-11
**Философия**: Хочешь - Думай - Делай
